<style>
	.latest-video {
		box-sizing: border-box;
		width: 100%;
		display: grid;
		grid-template-columns: 60% 40%;
		justify-content: space-between;
		align-items: center;
		margin: 0;
		padding: 2em 0;
	}

	.latest-video > div:nth-child(1) {
		padding: 3em;
	}

	.video-info h1 {
		margin-bottom: 0;
	}

	.w-btn {
		text-decoration: none;
		color: white;
		background: dodgerblue;
		font-weight: 500;
		padding: 0.7em 1.5em;
		border-radius: 5px;
		margin-top: 1em;
		transition: 0.3s ease-in-out;
		border: none;
		font-size: 1.2em;
		outline: none;
	}

	hr {
		margin: 2em 6em;
	}

	.w-btn:hover {
		background: rgb(10, 109, 209);
	}

	.w-btn:active {
		transform: scale(0.9);
	}

	.video-thumbnail img {
		filter: opacity(0.9);
		width: 100%;
		height: 100%;
	}

	.duration {
		margin-top: 0;
	}

	section {
		padding: 3em;
		margin-top: 5em;
	}

	nav {
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
	}

	.styleVideos {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(400px, 400px));
		gap: 2em;
	}

	.styleVideos .sv video {
		width: 100%;
	}

	.title {
		color: grey;
		margin: 5px 0;
	}
</style>

<div class="latest-video">
	<div class="video-info">
		<h1><%= title %></h1>
		<br />
		<p>
			Lorem ipsum dolor sit amet, consectetur adipisicing elit Reprehenderit id.
			Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam, quasi!
			Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit,
			quidem?Lorem ipsum dolor sit amet consectetur adipisicing elit. Quas,
			omnis!
		</p>
		<br />
		<button
			class="w-btn"
			onclick="return false"
			onmousedown="scrollToVideos('styleVid')"
		>
			Watch Now
		</button>
	</div>
	<div class="video-thumbnail">
		<img
			src="/images/yoga-exercises-gate1-jill-WachterReverse-Diabetes-760x506.jpg"
			alt=""
		/>
	</div>
</div>

<br />
<hr />

<section>
	<div class="styleVideos" id="styleVid">
		<% videos.forEach(e => { %>
		<div class="sv">
			<% if (user == undefined) { %>
			<video src="/video.mkv" controlsList="nodownload"></video>
			<% } else { %>
			<video
				src="/uploads/trainerVideos/<%= e.video.name %>"
				controls
				controlsList="nodownload"
			></video>
			<% } %>
			<p class="title"><%= e.title %></p>
		</div>
		<% }) %>
	</div>
</section>

<script>
	function scrollToVideos(el) {
		var scrollY = 0;
		var distance = 40;
		var speed = 24;

		const currentY = window.pageYOffset;
		const targetY = document.getElementById(el).offsetTop - 200;
		const bodyHeight = document.body.offsetHeight;
		const yPos = currentY + window.innerHeight;
		const animator = setTimeout("scrollToVideos('" + el + "')", 20);

		if (yPos > bodyHeight) {
			clearTimeout(animator);
		} else {
			if (currentY < targetY - distance) {
				scrollY = currentY + distance;
				window.scroll(0, scrollY);
			} else {
				clearTimeout(animator);
			}
		}
	}
</script>
